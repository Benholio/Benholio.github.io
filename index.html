<html>
<head>
<style>
body {
}
</style>
</head>
<body>
<button id="play" disabled>WinLoop_02</button>
<script type="text/javascript">
(function () {
  'use strict';

  const URL = 'audio/WinLoop_02.mp4';
    
  const context = new AudioContext();
  const playButton = document.querySelector('#play');
    
  let buffer;

  window.fetch(URL)
    .then(response => response.arrayBuffer())
    .then(arrayBuffer => context.decodeAudioData(arrayBuffer))
    .then(audioBuffer => {
      playButton.disabled = false;
      buffer = audioBuffer;
    });
    
    playButton.onclick = () => play(buffer);

  function play(audioBuffer) {
    const source = context.createBufferSource();
    source.buffer = audioBuffer;
    source.connect(context.destination);
    source.start();
  }
}());
</script>
</body>
</html>